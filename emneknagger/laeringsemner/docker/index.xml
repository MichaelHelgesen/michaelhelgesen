<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Docker on Michael Helgesen</title>
    <link>https://www.michaelhelgesen.no/emneknagger/laeringsemner/docker/</link>
    <description>Recent content in Docker on Michael Helgesen</description>
    <generator>Hugo</generator>
    <language>nb</language>
    <lastBuildDate>Sun, 03 Nov 2024 20:33:42 +0100</lastBuildDate>
    <atom:link href="https://www.michaelhelgesen.no/emneknagger/laeringsemner/docker/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>2024-09-24</title>
      <link>https://www.michaelhelgesen.no/laeringslogg/2024-09-24/</link>
      <pubDate>Tue, 24 Sep 2024 00:00:00 +0000</pubDate>
      <guid>https://www.michaelhelgesen.no/laeringslogg/2024-09-24/</guid>
      <description>&lt;h2 id=&#34;docker&#34;&gt;Docker&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;For å se log for en «image» skriver vi &lt;code&gt;docker logs --since=1h &amp;lt;CONTAINER-ID&amp;gt;&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>2024-09-12</title>
      <link>https://www.michaelhelgesen.no/laeringslogg/2024-09-12/</link>
      <pubDate>Thu, 12 Sep 2024 00:00:00 +0000</pubDate>
      <guid>https://www.michaelhelgesen.no/laeringslogg/2024-09-12/</guid>
      <description>&lt;h2 id=&#34;docker&#34;&gt;Docker&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;For å se status på alle «containere» kan vi skrive &lt;code&gt;docker ps -a&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;For å avslutte en «container» skriver man `docker stop ID/NAVN&lt;/li&gt;&#xA;&lt;li&gt;Vi kan kjøre en «container» med et ekstra «volum» som synkroniserer med «containeren». Det er praktisk under utvikling, slik at man slipper å bygge nye bilder hele tiden eller oppdatere dem.&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Kommando:&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker run -dp 5000:5000 -w /BANE -v &amp;#34;${pwd}:/BANE&amp;#34; IMAGE-NAVN&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&#xA;&lt;li&gt;For å se kontinuerlig «container log»: `docker logs -f NAVN/ID&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;bash&#34;&gt;Bash&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Funksjoner i Bash må defineres før de brukes.&lt;/li&gt;&#xA;&lt;li&gt;To måter å angi dem på:&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; my-function&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# kode&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;my-function&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# kode&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;Vi angir navnet på funksjonen for å kjøre den. Ikke med parentes etter. Kun &lt;code&gt;my-function&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Funksjoner kan kalle andre funksjoner.&lt;/li&gt;&#xA;&lt;li&gt;Funksjoner kan måtta argumenter. I funksjonen henvises de til med &lt;code&gt;$1, $2, $3&lt;/code&gt; og så videre. &lt;code&gt;$@&lt;/code&gt; samler alle, og &lt;code&gt;$0&lt;/code&gt; er selve scriptet.&lt;/li&gt;&#xA;&lt;li&gt;For å sende argumenter til en funksjon skriver man det etter kallet: &lt;code&gt;my-function Peter&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Alle variabler er globale, og må defineres før de brukes.&lt;/li&gt;&#xA;&lt;li&gt;Variabler i funksjoner blir ikke globale før funksjonen har kjørt.&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;local MY_VAR&lt;/code&gt; er en variabel som kun vil være tilgjengelig i en funksjon. Det er best practice. Lokale variabler brukes kun første gang variabelen etableres.&lt;/li&gt;&#xA;&lt;li&gt;Funksjoner returnerer «exit status». Den kan man definere selv også med &lt;code&gt;return KODE&lt;/code&gt;. Hvis ikke angitt er det siste kommando som bestemmer. Kan kun angi manuell kode mellom 0-255.&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>2024-09-11</title>
      <link>https://www.michaelhelgesen.no/laeringslogg/2024-09-11/</link>
      <pubDate>Wed, 11 Sep 2024 00:00:00 +0000</pubDate>
      <guid>https://www.michaelhelgesen.no/laeringslogg/2024-09-11/</guid>
      <description>&lt;h2 id=&#34;curl&#34;&gt;Curl&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;For å se statusinformasjon om forespørselen så legger man til &lt;code&gt;-i&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Ønsker man å skrive en kommando over flere linjer i kommandolinjen kan vi benytte &lt;code&gt;\&lt;/code&gt; deretter linjeskift, for å gå til neste linje.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;nvim&#34;&gt;NVIM&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;For å se terminalen i Neovim kan vi skrive &lt;code&gt;:terminal&lt;/code&gt; eller &lt;code&gt;:term&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;docker&#34;&gt;Docker&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;For å lage et Docker «image» fra en Dockerfil skriver man &lt;code&gt;docker build .&lt;/code&gt; fra banen med Dockerfilen i.&lt;/li&gt;&#xA;&lt;li&gt;Ønsker man å gi den en emneknagg kan man skrive følgende: &lt;code&gt;docker build -t EMNEKNAGG .&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;For å starte en Docker «deamon»: &lt;code&gt;systemctl start docker&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Se alle «images»: &lt;code&gt;docker images&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Starte en Docker «container» fra «image»: &lt;code&gt;docker run IMAGE-NAVN&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Angi port ved opprettelse av «container»: &lt;code&gt;docker run -d -p NY_PORT:CONTAINER_PORT IMAGE-NAVN&lt;/code&gt;. &lt;code&gt;-d&lt;/code&gt; betyr at prosessen skal kjøre i bakgrunnen, mens &lt;code&gt;-p&lt;/code&gt; står for port.&lt;/li&gt;&#xA;&lt;li&gt;Docker «compose» lar oss kjøre flere «images» med felles innstillinger. Da slipper man å gjøre det manuelt flere ganger. Først må man lage en fil &lt;code&gt;docker-compose.yml&lt;/code&gt;, med for eksempel følgende kode:&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;version&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;services&lt;/span&gt;: &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;web&lt;/span&gt;:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;build&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;.&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;: &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;5000:5000&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;: &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;.:/app&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>2024-09-08</title>
      <link>https://www.michaelhelgesen.no/laeringslogg/2024-09-08/</link>
      <pubDate>Sun, 08 Sep 2024 00:00:00 +0000</pubDate>
      <guid>https://www.michaelhelgesen.no/laeringslogg/2024-09-08/</guid>
      <description>&lt;h2 id=&#34;docker&#34;&gt;Docker&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Docker er en tjeneste som leverer standariserte enheter av mykvare som de kaller «container».&lt;/li&gt;&#xA;&lt;li&gt;En «container» er som en pakke med kode og tilhørende «packages» og verktøy. Man kan kjøre programmer uten å hente noe fra et annet sted.&lt;/li&gt;&#xA;&lt;li&gt;«Container» kan sammenlignes med en piknikkurv. I kurven har man alt man trenger for å sprise et måltid: tallerkner, glass, bestikk og mat. Den kan også leveres til en venn, og vennen trenger ikke bekymre seg for innholdet. Alt er samlet i kurven.&lt;/li&gt;&#xA;&lt;li&gt;En «container» fylles altså med det man trenger, uten behov for å mikse med innhold i andre «containere». Den kan modifiseres, og den virker for seg selv («stand-alone»). Den vil også virke alle andre steder som kan håndtere en «container».&lt;/li&gt;&#xA;&lt;li&gt;Docker gjør opprettelsen og håndteringen av slike «containere» enkelt.&lt;/li&gt;&#xA;&lt;li&gt;Hvorfor ikke virtuelle maskiner? Det er også et innkapslet område, men de krever mye mer ressurser og tar mye plass på harddisken.&lt;/li&gt;&#xA;&lt;li&gt;To konsepter i Docker:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;«Images»&lt;/li&gt;&#xA;&lt;li&gt;«containers»&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;«Images» er som en mal for å skape «containere». En «container» er en instans av et «image». Man kan etablere mange «containere» fra en «image».&lt;/li&gt;&#xA;&lt;li&gt;«Images» er en mal som inneholder koden, verktøyene og rutinene, mens en «container» er den kjørende / aktiverte mykvare-enheten.&lt;/li&gt;&#xA;&lt;li&gt;Installere en «container» fra en «image»: &lt;code&gt;docker run IMAGE-NAVN&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;For å «åpne dørene» til en «container» og starte en interaktiv «session» fra «containeren» til vår maskin: &lt;code&gt;docker run -it IMAGE-NAVN&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Se alle Docker-prosesser på maskinen: &lt;code&gt;docker ps -a&lt;/code&gt;. &lt;code&gt;ps&lt;/code&gt; står for «processes» og &lt;code&gt;-a&lt;/code&gt; betyr «all».&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
  </channel>
</rss>
